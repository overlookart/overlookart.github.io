<!DOCTYPE html>
<html>
    {{ $js := resources.Get "js/main.js" | js.Build (dict "params" (dict "api" "123123")) }}
    <script src="{{ $js.RelPermalink }}"></script>
    {{- partial "head.html" . -}}
    <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
    <body id="body-view">
        <div class="bg-center bg-no-repeat bg-cover fixed top-0 -z-10 w-full h-full bg-sitebg"></div>
        <!-- <div class="bg-center  bg-cover bg-fixed w-full h-full top-0 -z-10 bg-sitebg">-->
        <div class="container mx-auto my-4">
            <div class="flex h-[calc(100vh-32px)]  shadow-[0_0_8px_8px_rgba(0,0,0,0.1)] rounded-3xl overflow-hidden">
                <div class="flex-none backdrop-blur-md bg-white/50 w-[215px]">
                    {{- block "leftSideBar" . -}}
                    <p>可被其他模版覆盖的左侧内容</p>
                    {{- end -}}
                </div>
                <div id="content" class="flex flex-col grow backdrop-blur-md bg-white/30">
                    {{- partial "NavigationBar.html" . -}}
                    <div class="overflow-scroll flex hide-scrollbar">
                        <div class="grow">
                            <div id="search" class="bg-white/30 overflow-scroll hide-scrollbar"></div>
                            {{- block "content" . -}}
                            <p>可被其他模版覆盖的内容</p>
                            {{- end -}}
                        </div>
                        {{ if eq .Kind "page" }} 
                            <div class="w-[215px] h-full mx-auto overflow-scroll hide-scrollbar border-l-[1px]">
                                {{- block "rightSideBar" . -}}
                                <p>请使用 block "rightSideBar" 定义右侧内容</p>
                                {{- end -}}
                            </div>
                        {{ end }}
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>

<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ 
            element: "#search",
            showSubResults: true,
            highlightParam: "highlight",
            showEmptyFilters: true
        });
    });
</script>